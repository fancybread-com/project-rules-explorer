name: Main Branch Merge

on:
  push:
    branches: [ main ]

jobs:
  # This job ensures that the CD pipeline runs after merges to main
  trigger-cd:
    name: Trigger CD Pipeline
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'

    steps:
    - name: Verify merge to main
      run: |
        echo "âœ… Merge to main branch detected"
        echo "ğŸš« CD Pipeline is currently disabled"
        echo "ğŸ“ Extension is not ready for marketplace deployment"
        echo "ğŸ”§ CD Pipeline can be enabled when ready for deployment"

    - name: Display commit info
      run: |
        echo "Commit: ${{ github.sha }}"
        echo "Author: ${{ github.event.head_commit.author.name }}"
        echo "Message: ${{ github.event.head_commit.message }}"
        echo "Branch: ${{ github.ref }}"
